# PRP：時間軸手機版版面

## 問題敘述
- 新增的 Grid 版面在桌面版造成圓點與主線分離：圓點位於中心欄，但主線仍採用全域絕對定位，兩者無法對齊。
- 手機版雖已拉開日期與標題的距離，但整體內容仍顯擁擠；左右邊界及欄寬不足以容納日期、垂直線與標題，閱讀體驗不佳。

## 現況摘要
- `assets/css/custom/posts.css` 以 CSS Grid 定義日期／中心／內容三欄，並透過 `--timeline-*` 變數控制寬度與主線位置（`calc(var(--timeline-date-width) + var(--timeline-center-width)/2)`）。
- Grid 的 `column-gap: 0.75rem` 未納入主線定位計算，導致主線落在日期欄與中心欄之間，而圓點位於中心欄中央。
- 手機媒體查詢調整為 `--timeline-date-width: 4.6rem`、中心欄 `2rem`，再加上左右 `0.75rem` padding 與 0.75rem 欄距，使得實際可用內容寬度大幅降低。

## 根因分析
1. **主線定位未扣除 Grid 欄距**
   - `column-gap` 會在日期欄與中心欄之間插入固定間隙，但主線的絕對位置仍以「日期欄寬 + 中心欄一半」計算，忽略了間隙寬度。
   - 結果是主線靠向日期欄，而圓點留在中心欄中央，造成桌面版明顯偏移。
   - 只要欄距或欄寬調整，主線就會再度錯位，維護成本高。
2. **手機內容區域不足**
   - 日期欄（4.6rem）+ 欄距（0.75rem）+ 中心欄（2rem）+ 左右 padding（1.5rem）合計已約 8.85rem；在 320px（≈20rem）螢幕中，剩餘內容寬度不足 11rem。
   - 文章標題及年份圓點被迫擠壓，仍需縮排或折行才能顯示完整資訊。
   - 頁面外層容器仍延續先前的 margin 設定，放大了視覺擁擠感。

## 解法規劃
1. **將主線綁定到中心欄**
   - 改由 `.timeline-center::before` 或 `::after` 產生垂直線，利用 `position: absolute; left: 50%` 直接以中心欄為參考點。
   - 針對年份列控制線段上下延伸（例如第一個年份點上方不畫線），避免影響視覺。
   - 移除 `.timeline-list::before`，避免重複渲染。
2. **調整欄位與間距變數**
   - 把欄距改為變數（例如 `--timeline-gap`），方便桌機／手機分別調校。
   - 在手機環境下使用更小的日期欄寬（採用 `clamp` 保留最小可讀寬度）與中心欄寬，並同步縮減左右 padding（可降至 0.5rem 以下）。
   - 視需求允許文章標題區在手機版向左伸展（例如使用 `margin-left` 為負值或將 `timeline-archive` 包裝在容器外另行控制）。
3. **覆核圓點尺寸與線段長度**
   - 圓點尺寸改以中心欄寬度推導，確保不論變更多少欄寬都能置中。
   - 確認年份圓點仍大於一般圓點，但不會超出中心欄；必要時微調邊框厚度。
4. **重新檢視小螢幕排版**
   - 評估行動裝置上是否需調整字級或行距，讓日期與標題在縮減欄寬後仍可辨識。
   - 若仍過於擁擠，可考慮在 <360px 裝置上將日期移至標題上方，提供備用版面配置。

## 驗證計畫
- 重新建置 Hugo 站點並在 320/360/375/414/768/桌面寬度檢查對齊情況。
- 使用瀏覽器 DevTools 驗證 `.timeline-center` 內的圓點與 `::before` 主線是否保持 50% 對齊，並檢查年份節點線段是否正確中斷。
- 實測手機版內容區是否能完整顯示 2 行標題，不會再因邊界不足而截斷。
- 檢查亮暗模式以確保配色與陰影維持一致。

## 未決議題／後續事項
- 是否需要提供更寬鬆的閱讀模式（例如按鈕切換成卡片視圖）仍待評估。
- 若未來導入文字月份或雙語日期，需重新審視 `clamp` 設定以避免斷行問題。
- 圓點線段動畫效果（若未來導入）需要預留 hook，以免重新定位時再度偏移。

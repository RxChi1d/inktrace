/* ==========================================================================
   Styles for GitHub Flavored Markdown Alerts
   (via layouts/_default/_markup/render-blockquote.html)
   ========================================================================== */

/* ─── Base Alert Styles ──────────────────────────────────────────────── */
.prose .custom-alert {
  padding: 15px;
  margin-bottom: 20px;
  border: 1px solid transparent; /* Border color will be set per type */
  border-radius: 4px;
  position: relative;
  font-style: normal; /* Cancel any inherited italic style */
}

.prose .custom-alert .custom-alert-heading {
  display: flex;
  align-items: center;
  font-weight: bold;
  margin-top: 0;
  margin-bottom: 5px;
}

.prose .custom-alert .custom-alert-icon {
  display: inline-block;
  width: 1.2em;
  height: 1.2em;
  margin-right: 0.5em;
  flex-shrink: 0;
}

.prose .custom-alert .custom-alert-icon svg {
  width: 100%;
  height: 100%;
  fill: currentColor; /* Key for color inheritance */
}

.prose .custom-alert .custom-alert-title-text {
  /* Color is inherited from .custom-alert-heading or set per type if needed */
}

.prose .custom-alert .custom-alert-content {
  /* Content styling */
}

.prose .custom-alert .custom-alert-content p:first-child {
  margin-top: 0;
}

.prose .custom-alert .custom-alert-content p:last-child {
  margin-bottom: 0;
}

/* ─── Alert Type Specific Styles ─────────────────────────────────────── */

/* CAUTION, DANGER, ERROR types */
.prose .custom-alert.custom-alert-caution,
.prose .custom-alert.custom-alert-danger,
.prose .custom-alert.custom-alert-error {
  color: #a94442;
  background-color: #f2dede;
  border-color: #ebccd1;
}
.prose .custom-alert.custom-alert-caution .custom-alert-heading,
.prose .custom-alert.custom-alert-danger .custom-alert-heading,
.prose .custom-alert.custom-alert-error .custom-alert-heading {
  color: #a94442;
}

/* IMPORTANT type */
.prose .custom-alert.custom-alert-important {
  color: #31708f; /* Using info colors for important for now */
  background-color: #d9edf7;
  border-color: #bce8f1;
}
.prose .custom-alert.custom-alert-important .custom-alert-heading {
  color: #31708f;
}

/* INFO type (and NOTE from GitHub) */
.prose .custom-alert.custom-alert-info,
.prose .custom-alert.custom-alert-note {
  color: #31708f;
  background-color: #d9edf7;
  border-color: #bce8f1;
}
.prose .custom-alert.custom-alert-info .custom-alert-heading,
.prose .custom-alert.custom-alert-note .custom-alert-heading {
  color: #31708f;
}

/* SUCCESS / CHECK type */
.prose .custom-alert.custom-alert-success,
.prose .custom-alert.custom-alert-check {
  color: #3c763d;
  background-color: #dff0d8;
  border-color: #d6e9c6;
}
.prose .custom-alert.custom-alert-success .custom-alert-heading,
.prose .custom-alert.custom-alert-check .custom-alert-heading {
  color: #3c763d;
}

/* TIP type */
.prose .custom-alert.custom-alert-tip {
  color: #299797;
  background-color: #e0f7f7;
  border-color: #a7eded;
}
.prose .custom-alert.custom-alert-tip .custom-alert-heading {
  color: #299797;
}

/* WARNING type */
.prose .custom-alert.custom-alert-warning {
  color: #8a6d3b;
  background-color: #fcf8e3;
  border-color: #faebcc;
}
.prose .custom-alert.custom-alert-warning .custom-alert-heading {
  color: #8a6d3b;
}

/* Fallback for unspecified custom-alert types */
.prose .custom-alert:not(.custom-alert-caution):not(.custom-alert-danger):not(.custom-alert-error):not(.custom-alert-important):not(.custom-alert-info):not(.custom-alert-note):not(.custom-alert-success):not(.custom-alert-check):not(.custom-alert-tip):not(.custom-alert-warning) {
  color: #555;
  background-color: #f5f5f5;
  border-color: #ddd;
}
.prose .custom-alert:not(.custom-alert-caution):not(.custom-alert-danger):not(.custom-alert-error):not(.custom-alert-important):not(.custom-alert-info):not(.custom-alert-note):not(.custom-alert-success):not(.custom-alert-check):not(.custom-alert-tip):not(.custom-alert-warning) .custom-alert-heading {
  color: #555;
}

/* ─── Dark Mode Considerations ───────────────────────────────────────── */
/*
  Dark mode styles are assumed to be handled by the Blowfish theme's global styles
  or via CSS variables. If specific overrides are needed for these custom alerts
  in dark mode, they should be added here.
  The `fill: currentColor` on SVGs and inherited text colors will adapt if the
  theme changes the base `color` property for dark mode.
  Explicit background and border colors defined above might need dark mode versions
  if the theme doesn't automatically handle them for these specific classes.
*/

/* ==========================================================================
   Styles for Foldable Alerts (<details> / <summary>)
   ========================================================================== */

/* Apply main alert styles to the <details> element itself */
details.prose.custom-alert {
  /* Base styles like padding, margin, border-radius are inherited from .prose .custom-alert */
  /* Background and color are set by type-specific classes like .custom-alert-info */
}

/* Hide default <summary> marker */
details.prose.custom-alert summary::-webkit-details-marker {
  display: none;
}
details.prose.custom-alert summary::marker {
  content: ''; /* For Firefox */
}

/* Style <summary> to act like .custom-alert-heading */
details.prose.custom-alert > summary {
  display: flex;
  align-items: center;
  font-weight: bold;
  margin-top: 0;
  margin-bottom: 5px; /* Space between summary and content */
  padding: 0 !important; /* Padding is on parent <details> */
  border: none !important; /* Border is on parent <details> */
  border-radius: 0 !important; /* Border-radius is on parent <details> */
  cursor: pointer;
  background-color: transparent !important; /* Summary should not have its own background */
  color: inherit; /* Inherit color from parent <details> */
  list-style: none !important; /* Ensure no marker */
}

/* Icon within <summary> */
details.prose.custom-alert > summary .custom-alert-icon {
  display: inline-block;
  width: 1.2em;
  height: 1.2em;
  margin-right: 0.5em;
  flex-shrink: 0;
}
details.prose.custom-alert > summary .custom-alert-icon svg {
  width: 100%;
  height: 100%;
  fill: currentColor;
}

/* Title text within <summary> */
details.prose.custom-alert > summary .custom-alert-title-text {
  /* Color is inherited from summary -> details */
}

/* Content area of the <details> element */
details.prose.custom-alert > .custom-alert-content {
  padding: 0 !important; /* Padding is on parent <details> */
  margin-top: 0;
}

/* Paragraphs within the <details> content area */
details.prose.custom-alert > .custom-alert-content p:first-child {
  margin-top: 0 !important;
}
details.prose.custom-alert > .custom-alert-content p:last-child {
  margin-bottom: 0 !important;
}

/* Custom disclosure arrow for <summary> */
details.prose.custom-alert > summary::after {
  content: "";
  display: inline-block;
  width: 0.6em;
  height: 0.6em;
  margin-left: auto; /* Align to the right */
  border-top: 2px solid currentColor;
  border-left: 2px solid currentColor;
  transform: rotate(-45deg); /* Collapsed state: < arrow */
  transition: transform 0.2s ease;
}

/* Expanded state disclosure arrow */
details.prose.custom-alert[open] > summary::after {
  transform: rotate(-135deg); /* Expanded state: v arrow */
}
